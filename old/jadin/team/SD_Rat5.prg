Init{Name("RatMan")
g=1
if(gamenbrª1)
print("------------------------------------------------")
print("           STATIC DUO® V1.35")
print("© by Joerg Siegert / Graz / Austria")
print("                20 June 1996")
print("------------------------------------------------")
endif
if(gª1)
m=180
else
m=360
endif
GetOthers()
__=result
d=result
ck=5
_l=470
cj=150
da=500
bp=2
h=-1
bc=1
SetAccel(5)
LockGun(1)
Blocking(0)
if((rª1)|(__ª1))
Gosub(bn)
else
RegCldRobot(cl,10)
RegCldMissile(cm,20)
Scan()
if(dtcrobot)
Fire(7)
endif
Gosub(cc)
RegCore(cg)
endif}
cc{_x=1
bq=1
_e=0
if(g==-1)
GunRight(180)
Gosub(bi)
endif
Ahead(g*400)
Gosub(v)
a=m+90
_=gunaim
Gosub(f)
GunRight(c)
_e=1
BodyLeft(90)
Gosub(bo)
_e=0
bq=0
Ahead(g*400)
Gosub(v)
a=m-45
RegCldRobot(cp,10)
RegCldMissile(cw,20)
_=gunaim
Gosub(f)
GunRight(c)
WaitFor(gunrmnª0)
j=0
_x=0}
cg{GetOthers()
d=result
Gosub(cf)
Gosub(n)
Gosub(bk)
if(dª1)
if(1)
a=m-45
_=gunaim
Gosub(f)
GunRight(c)
WaitFor(gunrmnª0)
Scan()
if((dtcrobot)&(scandist>_l))
bl=1
else
j=0
bl=0
Back(g*100)
Gosub(v)
Gosub(bn)
endif
endif
endif
if(bodyaim!=290)
a=290
_=bodyaim
Gosub(f)
BodyRight(c)
endif}
cf{Scan()
if(dtcrobotª0)
bc=1
endif
Gosub(bm)
if((dtcrobotª0)|((scandist>_l)&(d>1)&(j!=-1))|(energyª1))
GunRight(h*ck)
endif
if((gunaim>m)|((g==-1)&(gunaim<135)))
h=-1
elseif(gunaim<(m-90))
h=1
endif}
n{if((dtcrobotª0)|(gunheat))
return
endif
if((scandist>_l)&(d>1)&(j!=-1))
return
endif
if(scandist>180)
b=1
elseif(scandist>130)
b=3
elseif(scandist>80)
b=5
else
b=7
endif
if((bcª0)&(coªgunaim))
k=k*3
if(k¤7)
k=7
endif
elseif((k<1)|(k¤2))
k=1
endif
b=b*k
if((dtcenergy¥5)|((scandist>200)&(energy¥10)))
t=1
Abs(t)
else
Truncate(scandist/45)
t=((dtcenergy-1)+result)/4
Truncate(t+.99)
if((result-2)==b)
b=b+2
elseif((result-1)==b)
b=b+1
endif
if((d>1)|(result>7)|(scandist>300))
Min(b,result)
endif
endif
if((gunaim==(m-45))&(scandist>100)&((jª1)|(rª2)))
if(d!=1)
Abs(1)
elseif(energy>dtcenergy)
Abs(result+1)
endif
endif
Min(result,energy-1)
Fire(result)
co=gunaim
bc=0}
bk{if((dtccookieª0)|(uª1))
return
endif
if((scandist<cj)|(energy¥5))
u=1
_j=scandist+25
Gosub(_w)
Ahead(_j*e)
Gosub(v)
Back(_j*e)
Gosub(v)
else
Fire(1)
endif
u=0}
cl{if(_eª0)
if((gª1)&((cldbearing<-90)|(cldbearing>90)))
return
endif
if((g==-1)&((cldbearing>-90)&(cldbearing<90)))
return
endif
if(cldenergy<2)
return
endif
endif
Stop()
w=cldbearing
Gosub(_k)
a=l
_=gunaim
Gosub(f)
GunRight(c)
WaitFor(gunrmnª0)
Scan()
Gosub(n)
q=0
Gosub(br)
if(_eª0)
if(gª1)
a=bodyaim
else
a=bodyaim-180
endif
_=gunaim
Gosub(f)
GunRight(c)
Ahead(g*400)
else
a=270
_=bodyaim
Gosub(f)
BodyRight(c)
if(gª1)
a=270
else
a=90
endif
_=gunaim
Gosub(f)
GunRight(c)
endif}
cm{}
cp{if((dtcrobot)&((cldenergy<6)|(scandist¥50)))
return
else
w=cldbearing
Gosub(_k)
a=l
_=gunaim
Gosub(f)
GunRight(c)
if(c¤0)
h=1
else
h=-1
endif
Gosub(bi)
Scan()
Gosub(n)
endif}
cw{cu=w
w=cldbearing
Gosub(_k)
a=l
if((a>(m-48))&(a<(m-42)))
bs=bs+1
if(bs¤3)
j=-1
endif
endif
if((dtcrobot)&(cldenergy<15)&(cu!=w))
return
endif
if(gª1)
if(l>180)
a=180
elseif(l<90)
a=90
endif
else
if((l<270)&(l>135))
a=270
elseif(l<135)
a=0
endif
endif
_=gunaim
Gosub(f)
if(c¤0)
h=1
else
h=-1
endif
GunRight(c)
WaitFor(gunrmnª0)
Scan()
q=0
if(k¥1)
k=1.5
endif
Gosub(d_)
k=1}
bm{GetTurns()
bt=result
GetOthers()
d=result
if((gunaim>=(m-(45+bp)))&(gunaim<=(m-(45-bp)))&(scandist>_l))
if((dtcrobot)&(j!=-1))
j=1
cd=d
elseif((jª1)&(dªcd))
j=0
endif
endif}
c_{if(qª0)
if(distrmn)
Stop()
endif
Scan()
Gosub(n)
if(dtcrobotª0)
q=1
endif
Gosub(c_)
else
return
endif}
d_{if(qª0)
if(dtcrobot)
Gosub(n)
Scan()
else
q=1
endif
else
return
endif}
_z{Ahead(g*400)
if(gª1)
a=bodyaim
else
a=bodyaim-180
endif
_=gunaim
Gosub(f)
GunRight(c)}
bi{if(gunrmn)
Scan()
Gosub(bm)
Gosub(n)
Gosub(bk)
Gosub(bi)
else
return
endif}
bo{if(bodyrmn)
Scan()
Gosub(n)
Gosub(bo)
else
return
endif}
v{if(distrmn>0)
Scan()
if(dtcmine)
Fire(1)
Stop()
Gosub(_z)
endif
if((dtcenergy)&(dtcmineª0)&(dtcrobotª0)&(dtccookieª0))
Stop()
Gosub(_z)
endif
if((_xª1)&(dtcrobot))
k=1.5
q=0
Gosub(c_)
k=1
Gosub(_z)
else
Gosub(n)
endif
Gosub(v)
else
return
endif}
br{if(qª0)
if(distrmn)
Stop()
endif
Scan()
Gosub(n)
if((scandist>80)|(dtcrobotª0))
q=1
endif
Gosub(br)
else
return
endif}
ch{if((_aª0)&(_cª0))
_m=0
_n=100
_o=-100
_p=0
_a=100
_c=-100
_u=0
_v=100
_f=-100
_g=0
_h=100
_i=-100
endif
GetHitsOther()
_m=_m+result
if(result<_n)
_n=result
endif
if(result>_o)
_o=result
endif
GetHitsSelf()
_p=_p+result
if(result<_a)
_a=result
endif
if(result>_c)
_c=result
endif
GetShots()
_u=_u+result
if(result<_v)
_v=result
endif
if(result>_f)
_f=result
endif
GetHitStr()
_g=_g+result
if(result<_h)
_h=result
endif
if(result>_i)
_i=result
endif
if(i)
endif
if((iª1)|(iª3)|(iª5)|(iª7))
endif
if((iª2)|(iª3)|(iª6)|(iª7))
endif
if((iª4)|(iª5)|(iª6)|(iª7))
endif
Store(_m)
Store(_p)
Store(_u)
Store(_g)
Store(_n)
Store(_a)
Store(_v)
Store(_h)
Store(_o)
Store(_c)
Store(_f)
Store(_i)}
Dead{GetTurns()
bt=result
GetOthers()
d=result
if(j¥0)
j=0
endif
y=y+j
Store(y)
_y=_y+bl
Store(_y)
z=z+__-d
if(dª0)
z=z+1
endif
Store(z)
if((bt<200)&(_eª0)&(bqª1))
b_=b_+1
endif
Store(b_)
Truncate(games/20)
Max(5,result)
if((_xª0)&(r!=1))
s=s+1
if((sªresult)|(sªresult*2))
if(be!=1)
print("Game Number:")
print(gamenbr)
print("I have been in my corner:")
print(s)
print("I found my partner:")
print(y)
print("Detection Ratio:")
print(y/s)
if(rª2)
print("I had to dogfight my partner!")
endif
endif
if(((y/s)>.35)|(rª2))
if(be!=1)
print("My partner seems to be here, too.")
print("Let's have some fun with robot shooting!")
be=1
endif
elseif(z<((__*(__+1)/2+1)/__*gamenbr))
r=1
print("It seems I have to face those bad guys alone.")
print("Switching controls to Lucky Luke.")
print("chrchrchrchrchr....")
print("Howdy, folks. Here I am again.")
print("Tremble enemies. My name's LUCKY LUKE.")
print("And I am the winner of the last Robot Battle contest!")
endif
endif
endif
Store(r)
Store(be)
Store(s)
o=gamenbr/games
if(gamenbrªgames)
i=7
elseif((oª.1)|(oª.2)|(oª.3)|(oª.4)|(oª.5)|(oª.6)|(oª.7)|(oª.8)|(oª.9))
i=1
endif
Gosub(ch)
if(gamenbrªgames)
print("------------------------------------------")
print("I had to dogfight my partner:")
print(_y)
print("I was possible killed by my partner: ")
print(b_)
if(rª1)
print("I switched to LuckyLuke® mode")
else
print("I stayed at StaticDuo® mode")
endif
endif}
bn{SetAccel(5)
Blocking(0)
RegCldRobot(cq,10)
RegCldMissile(cr,20)
RegCore(cs)
ct=300
h=-1
db=300
bu=100
bz=25
cz=100
_b=0
e=-1
cb=3
bj=0
p=0
LockGun(1)
Scan()
if(dtcrobot)
Fire(7)
p=1
endif}
cs{Gosub(ce)
Gosub(_q)
Gosub(_r)
Gosub(_s)
GetOthers()
d=result
Gosub(ci)}
ce{Scan()
if(distrmn¥0)
if((baª1)&(energy>1)&(_bª0))
a=bodyaim
_=gunaim
Gosub(f)
if(c>0)
h=e
else
h=-e
endif
ba=0
endif
if(((gunrmnª0)|(baª1))&((dtcrobotª0)|(energyª1)))
GunRight(h*360)
endif
endif}
_r{if(dtcmine)
CldRobotEvents(0)
CldMissileEvents(0)
_=bodyaim-gunaim
Gosub(bb)
Abs(_)
if((scandist<cz)|((_<bz)|(_>(180-bz))))
if((gunrmn)&(energy>1))
GunLeft(10*h)
endif
Fire(1)
endif
CldRobotEvents(1)
CldMissileEvents(1)
endif}
_s{if(uª1)
return
endif
if(dtccookie)
u=1
_j=scandist+25
if(gunrmn)
GunLeft(10*h)
endif
if((scandist<ct)|(energy<10)|(d¥2))
Gosub(_w)
Ahead(_j*e)
Gosub(_t)
e=-e
else
Fire(1)
u=0
endif
endif
u=0}
ci{if((_bª1)|((bdª1)&(distrmn)))
return
endif
if((dª1)&(dtcrobot))
if(((dtcenergy-1)*4+1)<energy)
bd=1
cn=scandist
Gosub(_w)
Ahead(cn*e)
Gosub(_t)
else
bd=0
endif
endif
_=gunaim-bodyaim
Gosub(_d)
bf=(scandist^2+bg^2-2*scandist*bg*cos(_))
Abs(bf)
bf=result^.5
if((dtcrobot)&((bf<50)|(pª1)))
Gosub(bv)
e=-e
endif
if((distrmn¥0)|(pª1))
GetRandom(40)
bg=(5-d)^2*15+70-(result-20)
p=0
Ahead(e*bg)
e=-e
endif}
_q{if(dtcrobot)
ba=1
endif
if((dtcrobotª0)|(gunheat))
return
endif
if((gunrmn)&(energy>1)&(scandist>100))
GunLeft(10*h)
endif
if(scandist>140)
b=1
p=0
elseif(scandist>110)
b=3
p=0
elseif(scandist>70)
b=5
p=1
else
b=7
p=1
endif
if((dtcenergy¥5)|((scandist>180)&((energy¥10)|((energy-dtcenergy)<7))))
t=1
Abs(t)
else
Truncate(scandist/45)
t=((dtcenergy-1)+result)/4
Truncate(t+.99)
if((result-2)==b)
b=b+2
elseif((result-1)==b)
b=b+1
endif
if((d>1)|(result>7)|(scandist>300))
Min(b,result)
endif
endif
Min(result,energy-1)
Fire(result)}
cr{_b=0
Abs(cldbearing)
if((result>15)&(result<165)&(cldenergy¥10)&(d>1))
return
endif
if((bwª1)|(uª1)|(bdª1))
return
endif
if(cldenergy>15)
p=1
endif
bw=1
w=cldbearing
Gosub(_k)
_=l-90
Gosub(_d)
a=_
_=bodyaim
Gosub(f)
bx=c
_=l+90
Gosub(_d)
a=_
_=bodyaim
Gosub(f)
by=c
Abs(bx)
cv=result
Abs(by)
if(result<cv)
BodyRight(by)
else
BodyRight(bx)
endif
a=l
_=gunaim
Gosub(f)
GunRight(c)
Gosub(bh)
Ahead(bu)
Gosub(_t)
bw=0}
cq{GetTurns()
if((d>1)|(cldenergy¤energy))
if((result-bj)<cb)
Stop()
_b=0
else
_b=0
if((cldbearing<-90)|(cldbearing>90))
e=1
else
e=-1
endif
endif
bj=result
Ahead(bu*e)
endif
a=bodyaim+cldbearing
_=gunaim
Gosub(f)
GunRight(c)
WaitFor(gunrmnª0)}
cx{if(gunrmn)
Scan()
Gosub(_q)
Gosub(_r)
Gosub(_s)
Gosub(cx)
else
return
endif}
bh{if(bodyrmn)
Scan()
Gosub(_q)
Gosub(_r)
Gosub(_s)
Gosub(bh)
else
return
endif}
_t{if(distrmn>0)
Scan()
Gosub(_q)
Gosub(_r)
Gosub(_s)
Gosub(_t)
else
return
endif}
_w{_=bodyaim-gunaim
Gosub(bb)
Abs(_)
if(result>90)
a=gunaim+180
else
a=gunaim
endif
_=bodyaim
Gosub(f)
BodyRight(c)
Gosub(bh)
Gosub(bv)}
bv{_=bodyaim-gunaim
Gosub(bb)
Abs(_)
if(result<90)
e=1
else
e=-1
endif}
_d{if(_>359)
_=_-360
elseif(_<0)
_=_+359
endif}
f{cy=_
_=a
Gosub(_d)
a=_
x=a-cy
if(x<0)
x=x+360
endif
ca=-x+360
if(x¥ca)
c=x
else
c=-ca
endif}
bb{if(_<-179)
_=_+360
elseif(_>179)
_=_-360
endif}
_k{_=bodyAim+w
Gosub(_d)
l=_}
