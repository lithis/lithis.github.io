Init{Name("&Lucky Luke")
if(gamenbrª1)
print("-----------------------------------------------------------------------------------------")
print("                             LUCKY LUKE V2.69")
print("                (c) by Joerg Siegert / Graz / Austria")
print("                     e-mail: siegertj@writeme.com")
print("                                8 September 1998")
print("-----------------------------------------------------------------------------------------")
print("PointGap to Average:")
endif
SetAccel(5)
Blocking(0)
LockGun(1)
GetOthers()
g=result
b=g
if((qª0)&(gª1))
q=1
elseif(g!=1)
q=1
endif
if(_rª0)
_r=games/(200-7-18)
_s=_r
endif
s=100
Scan()
if(dtcrobot)
bg=1
k=20
Fire(7)
if(gª1)
Ahead(400)
RegCldRobot(bs,1)
RegCldMissile(bw,2)
RegCldMine(_o,3)
RegCldCookie(_p,4)
Gosub(cq)
endif
endif
m=1
if(qª1)
RegCldRobot(bs,1)
RegCldMissile(bw,2)
RegCldMine(_o,3)
RegCldCookie(_p,4)
RegCore(cc)
ce=600
o=1
cy=100
cu=30
_f=71
bv=150
__=100
a=1
d=_f
if(g>1)
else
l=scandist-368/2
if(l<0)
l=l-d
else
l=l+d
endif
Ahead(l)
Stop()
BodyRight(75)
Continue()
endif
LockGun(0)
GunLeft(10*o)
LockGun(1)
GunRight(10000*o)
Gosub(r)
Gosub(x)
Gosub(_g)
else
d_=11
a=1
da=140
_j=0
cf=1
p=95
__=1
RegCldRobot(db,1)
RegCldMissile(dk,2)
RegCldMine(_o,3)
RegCldCookie(_p,4)
RegCore(cw)
if(scandist<200)
cf=-1
p=275
_j=180
endif
Ahead(400*cf)
Stop()
_=bodyaim
c=p
Gosub(f)
BodyRight(e)
Continue()
Gosub(_q)
Gosub(w)
endif}
cc{GetOthers()
b=result
GetTurns()
ca=result
_k=1
if(k>1)
k=k-1
else
k=0
endif
Gosub(r)
Gosub(_x)
Gosub(_c)
Gosub(ci)
if((bª0)&(death)&(gamenbrªgames))
Gosub(Dead)
death=0
endif}
r{Scan()
Gosub(bq)
if((dtcrobot)&(bª1))
s=dtcenergy
endif
Abs(gunrmn)
if((result¥__)&((dtcrobotª0)|(energyª1))&(jª0)&(yª0))
GunRight(10000*o)
Gosub(cb)
endif}
_x{if(dtcmine)
CldRobotEvents(0)
CldMissileEvents(0)
Abs(Sin(bodyaim-radaraim)*scandist)
if((scandist¥cu)|(result¥17))
Fire(1)
endif
CldRobotEvents(1)
CldMissileEvents(1)
endif}
_c{if((jª1)|(k))
return
endif
if(dtccookie)
_k=7
j=1
_i=_i+1
if((scandist¥ce)|(energy<10)|(b¥2))
de=scandist+40
dh=bodyaim
Gosub(bx)
d=0
Ahead(a*600)
Gosub(x)
Back(a*(de+d))
Stop()
c=dh
_=bodyaim
Gosub(f)
BodyRight(e)
Continue()
Gosub(_g)
Gosub(x)
endif
endif
_k=1
j=0}
ci{if((bª1)&(dtcrobot))
if((((dtcenergy-1)*4+1)<energy)|((dtcenergy<energy)&(gunheatª0)&(scandist¥10)))
y=1
Gosub(bx)
d=10
h=scandist+d
Ahead(a*h)
Gosub(x)
y=0
else
y=0
endif
endif
if(distrmn¥d)
d=_f
if(bª1)
h=600
elseif(bª2)
h=200
elseif(bª3)
h=120
elseif(bª4)
h=90
elseif(bª5)
h=80
endif
h=h+d
a=-a
Ahead(a*h)
Gosub(cx)
endif}
cx{if(b>1)
return
endif
if(distrmn<(d+bv))
CldMissileEvents(0)
l=distrmn
Back(a*h)
l=l+distrmn
if(l<(d+bv))
if((bodyaim>315)|(bodyaim¥45))
c=0
elseif(bodyaim>225)
c=270
elseif(bodyaim>135)
c=180
else
c=90
endif
_=bodyaim
Gosub(f)
BodyRight(e)
Gosub(_g)
a=1
Gosub(ci)
endif
CldMissileEvents(1)
endif}
bq{_b=energy-dtcenergy
if(_b¤40)
_l=250
elseif(_b¤30)
_l=220
elseif(_b¤20)
_l=190
elseif(_b¤10)
_l=180
else
_l=170
endif
if((dtcrobotª0)|(gunheat)|((energy¥3)&(dtcenergyª1)&(scandist>100))|((dtcenergyª2)&(energy¥6)&(scandist>80))|(scandist>_l))
return
endif
CldMissileEvents(0)
CldRobotEvents(0)
if(((energy¤90)|((s+20)<=energy))&(scandist¥130))
v=7
elseif(scandist>120)
v=1
elseif(scandist>100)
v=3
elseif(scandist>80)
v=5
else
v=7
endif
v=v*_k
_k=1
if(((dtcenergy¥5)|((scandist¤150)&((energy¥10)|((energy-dtcenergy)<=7))))&(jª0))
_d=1
Abs(_d)
else
Truncate(scandist/45)
_d=((dtcenergy-1)+result)/4
Truncate(_d+.99)
if((b>1)|(result>7)|(scandist>120))
Min(v,result)
endif
endif
Min(result,energy-1)
Fire(result)
CldRobotEvents(1)
CldMissileEvents(1)}
bw{GetTurns()
if((result<15)&((cldbearing>90)|(cldbearing<-90)))
_e=1
return
endif
c=bodyaim+cldbearing
_=gunaim
if((bª1)&((energy-8)>=s)&(cldenergy<15))
return
endif
if((bª1)&((cldenergy¥5)&((s-energy)<10)))
return
endif
if((jª1)|(yª1)|(bodyrmn)|(k>1)|(dtcrobot))
return
endif
if((b>1)&(cldenergy¥5)&(energy>50))
return
endif
Gosub(f)
GunRight(e)
Gosub(r)
n=cldbearing
Gosub(cd)
_=bp-90
Gosub(t)
c=_
_=bodyaim
Gosub(f)
cg=e
_=bp+90
Gosub(t)
c=_
_=bodyaim
Gosub(f)
ch=e
Abs(cg)
_=result
Abs(ch)
if(result<_)
_=ch
else
_=cg
endif
Abs(_)
if(result<35)
_=35
endif
Stop()
BodyRight(_)
Continue()
Gosub(r)}
bs{if(bª1)
s=cldenergy
endif
_=radaraim-gunaim
Gosub(_n)
Abs(n/10)
if(((cldenergy<energy)&(cldenergy¥7))|((cldenergy+20)<energy))
cn=0
else
cn=1
endif
if((b>1)&(cldenergy¤1))
if((cldbearing<-90)|(cldbearing>90))
a=1
else
a=-1
endif
d=17
Ahead(a*50)
a=-a
elseif((cnª1)&(k<2)&(mª1))
k=1
if((cldbearing<-90)|(cldbearing>90))
a=1
else
a=-1
endif
d=17
Ahead(a*600)
elseif(((cldenergy¥energy)&(k!=1))|(mª0))
k=10
if((cldbearing<-90)|(cldbearing>90))
a=-1
else
a=1
endif
Ahead(a*600)
endif
n=cldbearing
Gosub(cd)
c=bp
_=gunaim
Gosub(f)
GunRight(e)
if((gunrmn*o)<0)
GunRight(10000*o)
Gosub(cb)
Gosub(r)
endif}
co{if(radarrmn)
Scan()
if(scandist¥10)
Gosub(bq)
endif
Gosub(_c)
Gosub(co)
else
return
endif}
df{if(gunrmn)
Gosub(r)
Gosub(_x)
Gosub(_c)
Gosub(df)
else
return
endif}
_g{if(bodyrmn)
Gosub(r)
Gosub(_x)
Gosub(_c)
Gosub(_g)
else
return
endif}
x{if(distrmn>d)
Gosub(r)
Gosub(_x)
Gosub(_c)
Gosub(x)
else
return
endif}
bx{CldMissileEvents(0)
Stop()
_h=radaraim-o*10
_=bodyaim-_h
Gosub(_n)
Abs(n)
if(result>90)
c=_h+180
a=-1
else
c=_h
a=1
endif
_=bodyaim
Gosub(f)
BodyRight(e)
CldRobotEvents(0)
LockGun(0)
c=_h
_=radaraim
Gosub(f)
RadarRight(e)
c=_h
_=gunaim
Gosub(f)
GunRight(e)
WaitFor(gunrmnª0)
LockGun(1)
CldRobotEvents(1)
Gosub(_g)
CldMissileEvents(1)}
cd{_=bodyAim+n
Gosub(t)
bp=_}
t{if(_>359)
_=_-360
elseif(_<0)
_=_+360
endif}
f{cs=_
_=c
Gosub(t)
c=_
z=c-cs
if(z<0)
z=z+360
endif
c_=-z+360
if(z¥c_)
e=z
else
e=-c_
endif
if(csªgunaim)
if(e>0)
o=1
else
o=-1
endif
endif}
_n{if(_<-179)
_=_+360
elseif(_>179)
_=_-360
endif
n=_}
cq{if(mª1)
return
else
Scan()
if(dtcrobot)
if(gunheatª0)
_k=7
Gosub(bq)
endif
if(g!=1)
m=1
else
if(distrmnª0)
Ahead(600)
endif
Gosub(cq)
endif
else
m=1
endif
endif}
cb{_=radaraim-gunaim
Gosub(_n)
if(gunrmn<0)
u=-1
else
u=1
endif
if(((nª0)&(gunrmnª0))|((n*uª10)&(gunrmn)))
return
elseif(n*u==-10)
CldMissileEvents(0)
CldRobotEvents(0)
LockGun(0)
GunLeft(10*u)
LockGun(1)
GunRight(10000*u)
CldRobotEvents(1)
CldMissileEvents(1)
else
CldMissileEvents(0)
CldRobotEvents(0)
if(gunrmnª0)
c=gunaim
elseif(uª1)
c=gunaim+10
else
c=gunaim-10
endif
if(gunrmn)
GunLeft(0)
endif
_=radaraim
Gosub(f)
LockGun(0)
RadarRight(e)
Gosub(co)
LockGun(1)
CldRobotEvents(1)
CldMissileEvents(1)
GunRight(10000*u)
endif}
_p{if(jª1)
_y=_y+1
d=_f
Stop()
else
_z=_z+1
endif}
_o{b_=b_+1}
Dead{GetOthers()
b=result
if(qª1)
ba=ba+1
else
bb=bb+1
endif
bc=bc+bg
bd=bd+_e
if((bª1)&(bgª1))
be=be+1
elseif((bª0)&(_eª1))
bf=bf+1
endif
_a=_a+g-b
cp=bh
bh=bi
bi=bj
bj=bk
bk=bl
bl=bm
bm=bn
bn=bo/1.5
bo=i*.75
i=2
if(bª0)
_t=_t+1
_a=_a+1
br=(br*(_t-1)+energy)/_t
if((gª1)&(_eª1))
i=i+1
endif
elseif(bª1)
_u=_u+1
bt=(bt*(_u-1)+s)/_u
if((gª1)&(bgª1))
i=i+1
elseif(_eª1)
i=0
endif
i=-i
elseif(bª2)
cj=cj+1
elseif(bª3)
ck=ck+1
elseif(bª4)
cl=cl+1
elseif(bª5)
cm=cm+1
endif
i=i*q
Truncate((games-1)/100)
bu=(result+1)*10
Truncate((games-gamenbr)/50)
bu=bu/(result+1)
if((_a-((g*(g+1)/2+1)/(g+1)*gamenbr))<=bu)
if(((i+bo+bn+bm+bl+bk+bj+bi+bh+cp)<0)&(gamenbr>3))
q=-1
else
q=1
endif
endif
Store(i)
Store(bo)
Store(bn)
Store(bm)
Store(bl)
Store(bk)
Store(bj)
Store(bi)
Store(bh)
Store(cp)
Store(_a)
Store(_t)
Store(_u)
Store(cj)
Store(ck)
Store(cl)
Store(cm)
Store(br)
Store(bt)
Store(_y)
Store(_z)
Store(_i)
Store(b_)
Store(bc)
Store(bd)
Store(be)
Store(bf)
Store(_r)
if((gamenbr¤_s)|(gamenbrªgames))
_s=_s+_r
print(_a-((g*(g+1)/2+1)/(g+1)*gamenbr))
endif
Store(_s)
if(gamenbrªgames)
print("Average energy/opponent's energy left:")
print(br)
print(bt)
print("Cookie stats (seen / seen and found / lucky ones):")
print(_i)
print(_y)
print(_z)
print("Mines hit:")
print(b_)
print("Times started behind/in front of oppenent (guess):")
print(bc)
print(bd)
print("Good/Bad games:")
print(bf)
print(be)
print("Lucky Luke/Wallace games")
print(ba)
print(bb)
endif
Store(q)
Store(ba)
Store(bb)}
cw{GetOthers()
b=result
GetTurns()
ca=result
Gosub(_v)
Gosub(cz)
Gosub(w)
if((bª0)&(death)&(gamenbrªgames))
Gosub(Dead)
death=0
endif}
cz{if(distrmn¥0)
__=1
_w=_w+1
Ahead(a*400)
Stop()
_=bodyaim-90
Gosub(t)
p=_
c=_
_=bodyaim
Gosub(f)
BodyRight(e)
Continue()
a=-a
Gosub(_q)
endif}
_v{Scan()
if(dtcrobot&(((dtcenergy-1)*4+1)<energy))
RegCldRobot(bs,1)
RegCldMissile(bw,2)
RegCldMine(_o,3)
RegCldCookie(_p,4)
RegCore(cc)
ce=600
o=1
cy=100
cu=30
_f=71
bv=150
__=100
a=1
d=_f
y=1
Gosub(bx)
d=10
h=scandist+d
Ahead(a*h)
Gosub(x)
y=0
return
endif
if(dtcrobot)
Gosub(_m)
if(gunrmnª0)
Gosub(cr)
elseif(scandist¥100)
GunRight(0)
endif
_w=0
return
elseif(dtcmine)
Gosub(_m)
elseif((dtccookie)&(scandist<200))
Gosub(dc)
endif
Gosub(dd)}
_m{if((gunheat)|((dtcmineª0)&(dtcrobotª0)))
return
endif
by=0
if((ctªscandist)&(dgªscandist))
GetHitsOther()
if(bz)
Stall(bz)
bz=0
by=1
elseif((resultªdi)&(scandist>100)&(dtcenergy¤energy))
Stall(2)
by=1
endif
di=result
endif
dg=ct
ct=scandist
if(dtcrobot)
if((gunrmn)&(scandist>100))
Min(1,energy-1)
elseif(byª1)
Min(7,energy-1)
else
Truncate(scandist/45)
_d=((dtcenergy-1)+1)/4
Truncate(_d+.99)
Min(7,result)
Min(energy-1,result)
endif
elseif(dtcmine)
Min(1,energy-1)
endif
Fire(result)}
dc{if(jª1)
return
endif
j=1
_i=_i+1
Gosub(dj)
Ahead(400*a)
Gosub(_q)
j=0}
dk{if(ca<15)
_e=1
endif
if(cldenergy<5)
bz=scandist/50
endif}
db{cv=1
if((energy¥2)&(distrmn))
Stop()
endif
if(bª1)
s=cldenergy
endif
Gosub(_m)
Scan()
if(dtcrobot)
Gosub(_m)
endif
if(((cldenergy-25)>=energy)&(distrmn))
Stop()
endif
c=bodyaim+cldbearing
_=gunaim
Gosub(f)
GunRight(e)
cv=0}
dl{if(gunrmn)
Gosub(_v)
Gosub(dl)
else
return
endif}
_q{if((distrmn¥da)&(dtcrobotª0)&(__ª1)&(j!=1))
__=0
_=_j+90
if(_w¤4)
_w=0
_=_+95
m=1
endif
Gosub(t)
_j=_
endif
if(distrmn>d_)
Gosub(_v)
Gosub(_q)
elseif(distrmn)
Stop()
endif
return}
w{if(bodyaim!=p)
if(bodyrmnª0)
_=bodyaim
c=p
Gosub(f)
BodyRight(e)
Gosub(w)
else
Gosub(_v)
Gosub(w)
endif
else
return
endif}
dd{if((gunrmnª0)&(_j!=gunaim)&(cvª0))
c=_j
_=gunaim
Gosub(f)
GunRight(e)
endif}
cr{if(mª1)
return
endif
if((distrmn>0)&(distrmn<50))
Stop()
Gosub(w)
endif
Scan()
Gosub(_m)
if((dtcrobotª0)|(energyª1))
m=1
else
Gosub(cr)
endif
m=0}
dj{Stop()
_=bodyaim-gunaim
Gosub(_n)
Abs(n)
if(result>90)
_=gunaim+180
Gosub(t)
c=_
a=-1
else
c=gunaim
a=1
endif
_b=p
p=c
Gosub(w)
p=_b}
