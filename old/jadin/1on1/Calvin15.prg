Init{Name("&Calvin")
d=368
i=1
e=-1
z=0
_b=d
s=0
r=d
a=-1
b=-1
bc=0
bq=0
SetAccel(5)
Blocking(0)
RegCldCookie(bg,20)
RegCore(bi)
GetOthers()
_n=result
if(_fª0)
_f=games/(200-8-0)
_j=_f
endif
if(gamenbrª1)
print("--------------------------------------------------------------------------")
print("                           CALVIN V1.50")
print("            (c) by Joerg Siegert / Graz / Austria")
print("                 e-mail: siegertj@writeme.com")
print("                          8 September 1998")
print("--------------------------------------------------------------------------")
print("     This robot uses the POSeidon® System V1.02")
print("--------------------------------------------------------------------------")
endif
Gosub(bd)
RegCldRobot(br,10)
b=d-scandist
GunLeft(10*i)
LockGun(1)
GunRight(9000*i)
if(b<(d/2))
f=r-10
else
f=s+10
endif
Gosub(_o)}
bi{if(i*gunrmn<0)
i=-i
endif
Gosub(j)
Gosub(_g)
Gosub(be)
Gosub(bh)
if((_pª0)&(death)&(gamenbrªgames))
Gosub(Dead)
death=0
endif}
_g{Scan()
Gosub(j)
Gosub(_q)
if((a==-1)&(gunrmnª0))
c=90
Gosub(_z)
endif
if(((pª1)&(cldrobotª0))|(((cldrobot)|(dtcrobot))&(energy>1)))
return
endif
Abs(gunrmn)
if(((dtcrobotª0)|(gunheat))&((radaraim%10)!=0)&(result>180)&(pª0))
GunLeft(radaraim%10)
endif
if(gunrmnª0)
GunRight(9000*i)
Gosub(j)
Gosub(_c)
endif
if((energyª1)&(dtcenergy))
_y=e
_=o-bodyaim
Gosub(y)
Abs(l)
if(result>155)
e=1
elseif(result<25)
e=-1
endif
if(_y!=e)
k=600
Gosub(_d)
endif
endif}
_q{if((scandist>200)&(energy¥2)&(dtcenergyª1))
return
endif
_=radaraim-gunaim
Gosub(y)
if(gunrmn<0)
m=-1
else
m=1
endif
_r=gunrmn
if(((lª0)&(gunrmnª0))|((l*mª10)&(gunrmn)))
_s=170
if((dtcrobot)&((gunrmnª0)|((dtcenergyª1)&(energy>5))))
_s=600
elseif((a<60)|(a>d-60)|(b<60)|(b>d-60))
if(((gunaim¤80)&(gunaim¥100))|((gunaim¤170)&(gunaim¥190))|((gunaim¤260)&(gunaim¥280))|((gunaim¤350)|(gunaim¥10)))
_s=400
endif
endif
if((dtcrobot)&(gunheatª0)&(scandist<_s)&(energy>1))
Truncate(scandist/45)
b_=((dtcenergy-1)+result)/4
if((dtcenergy¥5)|(((dtcenergy-1)*4+1)<energy))
b_=1
endif
Truncate(b_+.99)
Min(result,energy-1)
Fire(result)
Gosub(j)
endif
if((dtcmine)&(gunheatª0)&(energy>1))
Abs(Sin(bodyaim-gunaim)*scandist)
if((scandist¥40)|(result¥21))
Fire(1)
endif
endif
else
Gosub(_c)
Gosub(_g)
return
endif}
bh{if(pª1)
_w=0
elseif(energyª1)
_w=70
else
_w=20
endif
if(distrmn¥_w)
p=0
z=0
_b=d
s=0
r=d
if(a>(d/2))
if(b>(d/2))
h=0
f=0
else
h=0
f=d
endif
else
if(b>(d/2))
h=d
f=0
else
h=d
f=d
endif
endif
Gosub(_o)
endif}
_h{q=dtcenergy
if(q)
Gosub(_q)
return
endif
Scan()
q=dtcenergy
_m=scandist
if(dtcrobot)
Gosub(_q)
elseif(dtccookie)
Gosub(be)
endif}
br{Gosub(_g)
l=cldbearing
Gosub(ba)
c=bb
_=radaraim
Gosub(n)
Abs(g)
if(((cldenergy-28)>energy)|((cldenergy¤energy)&((result>40)|(energy¥3))))
_y=e
if((cldbearing>90)|(cldbearing<-90))
e=1
else
e=-1
endif
if(_y!=e)
k=600
Gosub(_d)
endif
endif
l=cldbearing
Gosub(ba)
c=bb
_=gunaim
Gosub(n)
if(g>0)
i=1
else
i=-1
endif
if((i*gunrmn<0)&(dtcrobotª0))
GunRight(g)
Gosub(j)
Gosub(_c)
endif}
be{if((dtccookie)&((scandist<400)|(energy¥5))&(pª0)&(cldrobotª0))
p=1
bm=scandist+80
Gosub(bo)
z=-100
_b=d+100
s=-100
r=d+100
k=bm
Gosub(_d)
endif}
bo{k=0
if(radarrmn)
o=radaraim-i*10
else
o=radaraim
endif
Stop()
_=o-bodyaim
Gosub(y)
Abs(l)
if(result>90)
c=o+180
e=-1
else
c=o
e=1
endif
_=bodyaim
Gosub(n)
BodyRight(g)
CldRobotEvents(0)
LockGun(0)
c=o
_=radaraim
Gosub(n)
RadarRight(g)
c=o
Gosub(_z)
WaitFor(gunrmnª0)
LockGun(1)
CldRobotEvents(1)
Gosub(_v)}
_v{if(bodyrmn)
Gosub(_g)
Gosub(_v)
else
return
endif}
_c{_=radaraim-gunaim
Gosub(y)
if(gunrmn<0)
m=-1
else
m=1
endif
_r=gunrmn
if(((lª0)&(gunrmnª0))|((l*mª10)&(gunrmn)))
return
elseif(l*m==-10)
CldRobotEvents(0)
LockGun(0)
GunLeft(10*m)
Gosub(j)
LockGun(1)
GunRight(_r)
Gosub(j)
CldRobotEvents(1)
else
CldRobotEvents(0)
if(gunrmnª0)
c=gunaim
elseif(mª1)
c=gunaim+10
else
c=gunaim-10
endif
if(gunrmn)
GunLeft(0)
endif
_=radaraim
Gosub(n)
LockGun(0)
RadarRight(g)
Gosub(j)
WaitFor(radarrmnª0)
Gosub(j)
LockGun(1)
CldRobotEvents(1)
GunRight(_r)
Gosub(j)
endif}
_z{_=gunaim
Gosub(n)
if(g>0)
i=1
else
i=-1
endif
if(g)
g=g+(10-(g%10)*i)*i
endif
GunRight(g)
Gosub(j)
Gosub(_c)}
bg{if(pª1)
Stop()
k=0
endif}
Dead{GetOthers()
_p=result
_a=_a+_n-_p
if(_pª0)
_a=_a+1
endif
Store(_a)
Store(_f)
if((gamenbr¤_j)|(gamenbrªgames))
_j=_j+_f
print(_a-((_n*(_n+1)/2+1)/(_n+1)*gamenbr))
endif
Store(_j)}
ba{_=bodyAim+l
Gosub(_x)
bb=_}
_d{if(a>-1)
if(_eª0)
t=a
u=b
v=k
Gosub(_i)
Max(a,z)
Min(result,_b)
if(((a-t)>.9)|((a-t)<-.9))
Abs((result-t)/(a-t))
else
Abs(1)
endif
a=result
Max(b,s)
Min(result,r)
if(((b-u)>.9)|((b-u)<-.9))
Abs((result-u)/(b-u))
else
Abs(1)
endif
b=result
Min(a,b)
Min(result,1)
k=k*result
a=t
b=u
v=k
Gosub(_i)
h=a
f=b
a=t
b=u
endif
__=0
if((z-h)>.9)
__=1
h=z
elseif((_b-h)<-.9)
__=1
h=_b
endif
if((s-f)>.9)
__=1
f=s
elseif((r-f)<-.9)
__=1
f=r
endif
if(__ª1)
Gosub(_o)
return
endif
endif
if(bqª0)
Ahead(e*k)
Gosub(j)
endif}
_i{b=b+cos(bodyaim)*v*e
if(a>-1)
a=a+sin(bodyaim)*v*e
endif}
j{if(cldrobotª0)
v=k-distrmn
k=distrmn
Gosub(_i)
else
v=0
k=distrmn-_t*e
Gosub(_i)
return
endif
if(radaraimª0)
Gosub(_h)
if(qª0)
b=d-_m
endif
elseif(radaraimª90)
Gosub(_h)
if(qª0)
a=d-_m
endif
elseif(radaraimª180)
Gosub(_h)
if(qª0)
b=_m
endif
elseif(radaraimª270)
Gosub(_h)
if(qª0)
a=_m
endif
endif
_u=_k
bj=_t
GetTurns()
_k=result
if(_k-_u)
_t=v/(_k-_u)
bk=4*(_t-bj)/(_k-_u)
endif}
bl{if(((h-a)==0)&((f-b)==0))
return
endif
if(a<-.9)
h=a
endif
if(h-aª0)
if(f-b>0)
c=0
else
c=180
endif
elseif(f-bª0)
if(h-a>0)
c=90
else
c=270
endif
else
_=atan((h-a)/(f-b))
if(f-b<0)
_=_+180
endif
Gosub(_x)
c=_
endif
_=_l-c
Gosub(y)
Abs(_)
if((result>90)&(_eª1))
c=c+180
e=-1
elseif(_eª1)
e=1
endif
_=_l
Gosub(n)}
bn{if(wª1)
_l=bodyaim
elseif(wª2)
_l=gunaim
elseif(wª3)
_l=radaraim
endif
Gosub(bl)
if(wª1)
BodyRight(g)
elseif(wª2)
GunRight(g)
elseif(wª3)
RadarRight(g)
endif
Gosub(j)}
_o{_e=1
w=1
Gosub(bn)
Gosub(_v)
k=((h-a)^2+(f-b)^2)^.5
Gosub(_d)
_e=0}
bd{if(bcª1)
return
else
Scan()
if(dtcrobot)
if(gunheatª0)
Fire(7)
endif
if((distrmn¥0)&(scandist<200))
Ahead(400)
endif
Gosub(bd)
else
bc=1
endif
endif}
_x{if(_>359)
_=_-360
elseif(_<0)
_=_+360
endif}
n{bp=_
_=c
Gosub(_x)
c=_
x=c-bp
if(x<0)
x=x+360
endif
bf=-x+360
if(x¥bf)
g=x
else
g=-bf
endif}
y{if(_<-179)
_=_+360
elseif(_>179)
_=_-360
endif
l=_}
